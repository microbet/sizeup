@{
    Layout = "~/Areas/Widget/Views/Shared/_Layout.cshtml";
}


@section head{
<title>Best Places To Advertise - @ViewBag.CurrentInfo.CurrentIndustry.Name in @ViewBag.CurrentInfo.CurrentPlace.City.Name, @ViewBag.CurrentInfo.CurrentPlace.State.Abbreviation </title>
<link href="@Url.Content("~/Content/views/advertising/index.css")" rel="stylesheet" type="text/css" />
<link href="@Url.Content("~/Content/widget/views/advertising/index.css")" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="http://maps.google.com/maps/api/js?key=@System.Configuration.ConfigurationManager.AppSettings["GoogleAPI"]&sensor=false"></script>


<script type="text/javascript" src="@Url.Content("~/Scripts/thirdParty/mustache.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/thirdParty/jquery.ba-bbq.min.js")"></script>


    
<script type="text/javascript" src="@Url.Content("~/Scripts/controls/slider.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/controls/rangeslider.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/controls/pager.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/controls/selectList.js")"></script>

<script type="text/javascript" src="@Url.Content("~/Scripts/util/numbers/format.js")"></script>

<script type="text/javascript" src="@Url.Content("~/Scripts/core/data.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/core/notifier.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/core/templates.js")"></script>

<script type="text/javascript" src="@Url.Content("~/Scripts/maps/mapStyles.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/maps/mapOptions.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/maps/map.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/maps/latLng.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/maps/latLngBounds.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/maps/circle.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/maps/heatPin.js")"></script>

<script type="text/javascript" src="@Url.Content("~/Scripts/views/shared/signin.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/views/advertising/advertising.js")"></script>


}


<div id="advertising">
    <div id="filterSettings" class="hidden">
        <h2>Best Places to Advertise</h2>
        <p>
            Find the best places to target your next advertising campaign.
             Adjust business and demographic parameters to find the best advertising locations.
        </p>
        <div class="section">
             <ul class="options">
                <li id="distance">
                    <span class="label">Search distance:</span>
                    <span class="valueLabel">
                        <span class="value">at most <span class="val">{{value}}</span> miles</span>
                        <span class="off"><span class="val">Nationwide</span></span>
                    </span>
                    <div class="sliderWrap">
                        <span class="sliderLabel less">less</span>
                        <div class="slider"></div>
                        <span class="sliderLabel more">more</span>
                    </div>
                </li>
            </ul>
        </div>
        <div class="section">
            <h3>Industry Performance</h3>
            <ul class="options">
                <li id="averageRevenue">
                    <span class="label">Annual Revenue (Avg. Business):</span>
                    <span class="valueLabel">
                        <span class="max">at most <span class="val">{{max}}</span></span>
                        <span class="min">at least <span class="val">{{min}}</span></span>
                        <span class="range">between <span class="val">{{min}}</span> and <span class="val">{{max}}</span></span>
                        <span class="off"><span class="val">No Preference</span></span>
                    </span>
                    <div class="sliderWrap">
                        <span class="sliderLabel less">less</span>
                        <div class="slider"></div>
                        <span class="sliderLabel more">more</span>
                    </div>
                </li>
                <li id="totalRevenue">
                    <span class="label">Total Annual Revenue:</span>
                    <span class="valueLabel">
                        <span class="max">at most <span class="val">{{max}}</span></span>
                        <span class="min">at least <span class="val">{{min}}</span></span>
                        <span class="range">between <span class="val">{{min}}</span> and <span class="val">{{max}}</span></span>
                        <span class="off"><span class="val">No Preference</span></span>
                    </span>
                    <div class="sliderWrap">
                        <span class="sliderLabel less">less</span>
                        <div class="slider"></div>
                        <span class="sliderLabel more">more</span>
                    </div>
                </li>
                <li id="totalEmployees">
                    <span class="label">Total Employees:</span>
                    <span class="valueLabel">
                        <span class="max">at most <span class="val">{{max}}</span></span>
                        <span class="min">at least <span class="val">{{min}}</span></span>
                        <span class="range">between <span class="val">{{min}}</span> and <span class="val">{{max}}</span></span>
                        <span class="off"><span class="val">No Preference</span></span>
                    </span>
                    <div class="sliderWrap">
                        <span class="sliderLabel less">less</span>
                        <div class="slider"></div>
                        <span class="sliderLabel more">more</span>
                    </div>
                </li>
                <li id="revenuePerCapita">
                    <span class="label">Revenue per capita:</span>
                    <span class="valueLabel">
                        <span class="max">at most <span class="val">{{max}}</span></span>
                        <span class="min">at least <span class="val">{{min}}</span></span>
                        <span class="range">between <span class="val">{{min}}</span> and <span class="val">{{max}}</span></span>
                        <span class="off"><span class="val">No Preference</span></span>
                    </span>
                    <div class="sliderWrap">
                        <span class="sliderLabel less">less</span>
                        <div class="slider"></div>
                        <span class="sliderLabel more">more</span>
                    </div>
                </li>
            </ul>
        </div>
        <div class="section">
            <h3>Demographic Characteristics</h3>
            <ul class="options">
                <li id="householdIncome">
                    <span class="label">Household Income:</span>
                    <span class="valueLabel">
                        <span class="max">at most <span class="val">{{max}}</span></span>
                        <span class="min">at least <span class="val">{{min}}</span></span>
                        <span class="range">between <span class="val">{{min}}</span> and <span class="val">{{max}}</span></span>
                        <span class="off"><span class="val">No Preference</span></span>
                    </span>
                    <div class="sliderWrap">
                        <span class="sliderLabel less">lower</span>
                        <div class="slider"></div>
                        <span class="sliderLabel more">higher</span>
                    </div>
                </li>
                <li id="householdExpenditures">
                    <span class="label">Household Expenditures:</span>
                    <span class="valueLabel">
                        <span class="max">at most <span class="val">{{max}}</span></span>
                        <span class="min">at least <span class="val">{{min}}</span></span>
                        <span class="range">between <span class="val">{{min}}</span> and <span class="val">{{max}}</span></span>
                        <span class="off"><span class="val">No Preference</span></span>
                    </span>
                    <div class="sliderWrap">
                        <span class="sliderLabel less">lower</span>
                        <div class="slider"></div>
                        <span class="sliderLabel more">higher</span>
                    </div>
                </li>
                <li id="medianAge">
                    <span class="label">Median Age:</span>
                    <span class="valueLabel">
                        <span class="max">at most <span class="val">{{max}}</span></span>
                        <span class="min">at least <span class="val">{{min}}</span></span>
                        <span class="range">between <span class="val">{{min}}</span> and <span class="val">{{max}}</span></span>
                        <span class="off"><span class="val">No Preference</span></span>
                    </span>
                    <div class="sliderWrap">
                        <span class="sliderLabel less">lower</span>
                        <div class="slider"></div>
                        <span class="sliderLabel more">higher</span>
                    </div>
                </li>
                <li id="bachelorOrHigher">
                    <span class="label">Bachelor's Degree or Higher:</span>
                    <span class="valueLabel">
                        <span class="value">at least <span class="val">{{value}}%</span></span>
                        <span class="off"><span class="val">No Preference</span></span>
                    </span>
                    <div class="sliderWrap">
                        <span class="sliderLabel less">fewer grads</span>
                        <div class="slider"></div>
                        <span class="sliderLabel more">more grads</span>
                    </div>
                </li>
                <li id="highSchoolOrHigher">
                    <span class="label">High School Education or Higher:</span>
                    <span class="valueLabel">
                        <span class="value">at least <span class="val">{{value}}%</span></span>
                        <span class="off"><span class="val">No Preference</span></span>
                    </span>
                    <div class="sliderWrap">
                        <span class="sliderLabel less">fewer grads</span>
                        <div class="slider"></div>
                        <span class="sliderLabel more">more grads</span>
                    </div>
                </li>
                <li id="whiteCollar">
                    <span class="label">White Collar Workers:</span>
                    <span class="valueLabel">
                        <span class="value">at least <span class="val">{{value}}%</span></span>
                        <span class="off"><span class="val">No Preference</span></span>
                    </span>
                    <div class="sliderWrap">
                        <span class="sliderLabel less">fewer</span>
                        <div class="slider"></div>
                        <span class="sliderLabel more">more</span>
                    </div>
                </li>
            </ul>
        </div>
        <a href="javascript:void(0);" class="button small submit">Search</a>
        <a href="javascript:void(0);"  class="inverse cancel">Cancel</a>
    </div>
    <div class="wrapper content hidden">
        <div class="wrapper heading">
            <h2>Best Places to Advertise</h2>
            <div class="filterWrapper">
                <label>based on</label>
                <div class="filter">
                    <select id="optionMenu">
                        <option value="revenuePerCapita">Highest Revenue Per Capita</option>
                        <option value="underservedMarkets">Most Underserved Markets</option>
                        <option value="averageRevenue">Highest Average Revenue</option>
                        <option value="totalRevenue">Highest Total Revenue</option>
                        <option value="householdIncome">Highest Household Income</option>
                        <option class="custom" value="custom">Custom Filter</option>
                    </select>
                    <a href="javascript:void(0);" id="filterSettingsButton">Settings</a>
                </div>
            </div>
            <div class="clear"></div>
        </div>

        <div class="mapContent wrapper">
            <div class="map"></div>
            <div class="footer">
                <ul class="bandContainer">
                    <li data-template="bandItem"><img data-override-src="/content/images/heatPin{{color}}.png" /><span>{{label}}</span></li>
                </ul>
            </div>
        </div>

         <div class="description">
            <p data-template="revenuePerCapitaDescription">
                This is a list of zip codes with the highest amount of revenue generated per resident in the <strong>{{industry}}</strong> industry.
                If the industry serves the local area, then residents or businesses within the area are spending more than average.
                Central business districts will have inflated revenue per capita figures because they serve as destinations for 
                commerce and they have few residents.
            </p>
            <p data-template="underservedMarketsDescription">
                This is a list of zip codes with the lowest amount of revenue generated per resident in the <strong>{{industry}}</strong> industry.
                If the industry serves the local area, then residents or businesses within the area are spending less than average,
                which may mean that that there is opportunity for new businesses within that industry to take advantage of untapped markets.
            </p>
            <p data-template="averageRevenueDescription">
                This is a list of zip codes with the highest average business revenue in the <strong>{{industry}}</strong> industry.
                You should consider using this list if you are selling to businesses and want to target areas where
                 the average business is very successful.
            </p>
            <p data-template="totalRevenueDescription">
                This is a list of zip codes with the highest combined business revenue in the <strong>{{industry}}</strong> industry.
                You should consider using this list if you are selling to businesses or consumers and want to know where the most
                money is being made in your industry.
            </p>
            <p data-template="householdIncomeDescription">
                This is a list of zip codes with the highest median household incomes. Use this list if your products or 
                services are targeted at consumers with specific income levels.
            </p>
            <p data-template="customDescription">
                This is a list of zip codes showing Household Income data for the <strong>{{industry}}</strong> industry.
            </p>
        </div>

        <div class="listWrapper">
            <div class="pager hidden">
                <div data-template="pager">
                    <span class="label">Viewing {{start}}-{{end}} of {{totalItems}}</span>
                    {{#first}}<a href="javascript:void(0);" data-index="first">&lt;&lt;</a>{{/first}}
                    {{#prev}}<a href="javascript:void(0);" data-index="prev">&lt;</a>{{/prev}}
                    <ul>
                        {{#pages}}
                        <li class="page {{#current}}current{{/current}}"><a href="javascript:void(0);" data-index="{{index}}">{{index}}</a></li>
                        {{#seperator}}<li class="seperator">|</li>{{/seperator}}
                        {{/pages}}
                    </ul>
                    {{#next}}<a href="javascript:void(0);" data-index="next">&gt;</a>{{/next}}
                    {{#last}}<a href="javascript:void(0);" data-index="last">&gt;&gt;</a>{{/last}}
                </div>
            </div>


            <div class="sort">
                <a class="name sorter" href="javascript:void(0);">ZIP Code by City</a>
                <div class="value">
                    <select id="valueMenu">
                        <option value="totalPopulation">Total Population</option>
                        <option value="totalRevenue">Total Annual Revenue</option>
                        <option value="averageRevenue">Average Annual Revenue</option>
                        <option value="totalEmployees">Total Employees</option>
                        <option value="revenuePerCapita">Revenue Per Capita</option>
                        <option value="householdIncome">Household Income</option>
                        <option value="householdExpenditures">Household Expenditures (Average)</option>
                        <option value="medianAge">Median Age</option>
                        <option value="bachelorsDegreeOrHigher">Bachelors Degree or Higher</option>
                        <option value="highSchoolOrHigher">Highschool Degree or Higher</option>
                        <option value="whiteCollarWorkers">White Collar Workers</option>
                    </select>
                    <a class="sorter" href="javascript:void(0);">&nbsp;</a>
                </div>
                
            </div>


            <ul class="results">
                <li data-template="listItem">
                    {{#city.SEOKey}}
                    <a data-override-href="/community/{{state.SEOKey}}/{{county.SEOKey}}/{{city.SEOKey}}" class="name" target="_blank">{{name}}</a>
                    {{/city.SEOKey}}
                    {{^city.SEOKey}}
                    <a class="name noCommunity">{{name}}</a>
                    {{/city.SEOKey}}
                    <span class="value">{{#value.value}}{{value.value}}{{/value.value}}{{^value.value}}no data{{/value.value}}</span>
                    <ul class="details">
                        {{#totalPopulation}}<li>Total Population: {{#totalPopulation.value}}{{totalPopulation.value}}{{/totalPopulation.value}}{{^totalPopulation.value}}no data{{/totalPopulation.value}}</li>{{/totalPopulation}}
                        {{#totalRevenue}}<li>Total Annual Revenue: {{#totalRevenue.value}}{{totalRevenue.value}}{{/totalRevenue.value}}{{^totalRevenue.value}}no data{{/totalRevenue.value}}</li>{{/totalRevenue}}
                        {{#averageRevenue}}<li>Average Annual Revenue: {{#averageRevenue.value}}{{averageRevenue.value}}{{/averageRevenue.value}}{{^averageRevenue.value}}no data{{/averageRevenue.value}}</li>{{/averageRevenue}}
                        {{#totalEmployees}}<li>Total Employees: {{#totalEmployees.value}}{{totalEmployees.value}}{{/totalEmployees.value}}{{^totalEmployees.value}}no data{{/totalEmployees.value}}</li>{{/totalEmployees}}
                        {{#revenuePerCapita}}<li>Revenue Per Capita: {{#revenuePerCapita.value}}{{revenuePerCapita.value}}{{/revenuePerCapita.value}}{{^revenuePerCapita.value}}no data{{/revenuePerCapita.value}}</li>{{/revenuePerCapita}}
                        {{#householdIncome}}<li>Household Income: {{#householdIncome.value}}{{householdIncome.value}}{{/householdIncome.value}}{{^householdIncome.value}}no data{{/householdIncome.value}}</li>{{/householdIncome}}
                        {{#householdExpenditures}}<li>Household Expenditures (Average): {{#householdExpenditures.value}}{{householdExpenditures.value}}{{/householdExpenditures.value}}{{^householdExpenditures.value}}no data{{/householdExpenditures.value}}</li>{{/householdExpenditures}}
                        {{#medianAge}}<li>Median Age: {{#medianAge.value}}{{medianAge.value}}{{/medianAge.value}}{{^medianAge.value}}no data{{/medianAge.value}}</li>{{/medianAge}}
                        {{#bachelorsDegreeOrHigher}}<li>Bachelors Degree or Higher: {{#bachelorsDegreeOrHigher.value}}{{bachelorsDegreeOrHigher.value}}{{/bachelorsDegreeOrHigher.value}}{{^bachelorsDegreeOrHigher.value}}no data{{/bachelorsDegreeOrHigher.value}}</li>{{/bachelorsDegreeOrHigher}}
                        {{#highSchoolOrHigher}}<li>Highschool Degree or Higher: {{#highSchoolOrHigher.value}}{{highSchoolOrHigher.value}}{{/highSchoolOrHigher.value}}{{^highSchoolOrHigher.value}}no data{{/highSchoolOrHigher.value}}</li>{{/highSchoolOrHigher}}
                        {{#whiteCollarWorkers}}<li>White Collar Workers: {{#whiteCollarWorkers.value}}{{whiteCollarWorkers.value}}{{/whiteCollarWorkers.value}}{{^whiteCollarWorkers.value}}no data{{/whiteCollarWorkers.value}}</li>{{/whiteCollarWorkers}}
                    </ul>
                </li>
            </ul>
        </div>
        <div class="loading list hidden">
            <p class="title"></p>
            <img src="@Url.Content("~/content/images/Loading.gif")" alt="Loading" />
            <p class="message">Loading Next Set of Communities</p>
        </div>
        @if(!HttpContext.Current.User.Identity.IsAuthenticated){
        <div class="signinWrapper">
                <a href="javascript:void(0);" class="signinToggle inverse" >
                    View all best places to advertise
                </a>
                @Html.Partial("Signin")  
        </div>   
        }
    </div>
 

    <div class="loading page">
        <p class="title"></p>
        <img src="@Url.Content("~/content/images/Loading.gif")" alt="Loading" />
        <p class="message">Locating Communities</p>
    </div>
</div>



@section scripts{

    <script type="text/javascript">
        var opts = @Html.Raw(ViewBag.CurrentInfoJSON) ;
        var driver = new sizeup.views.advertising.advertising(opts);
    </script>


}


