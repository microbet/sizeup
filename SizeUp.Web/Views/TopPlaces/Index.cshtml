@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@section head{
<title>Top Places</title>
<link href="@Url.Content("~/Content/views/topPlaces/index.css")" rel="stylesheet" type="text/css" />

<script type="text/javascript" src="http://maps.google.com/maps/api/js?key=@System.Configuration.ConfigurationManager.AppSettings["GoogleAPI"]&sensor=false"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/core/data.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/core/notifier.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/core/templates.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/thirdParty/chosen.jquery.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/thirdParty/mustache.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/thirdParty/jquery.ba-bbq.min.js")"></script>

<script type="text/javascript" src="@Url.Content("~/Scripts/controls/slider.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/controls/rangeslider.js")"></script>
  
<script type="text/javascript" src="@Url.Content("~/Scripts/maps/mapStyles.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/maps/mapOptions.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/maps/map.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/maps/latLng.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/maps/latLngBounds.js")"></script>
<script type="text/javascript" src="@Url.Content("~/Scripts/maps/heatPin.js")"></script>


<script type="text/javascript" src="@Url.Content("~/Scripts/views/topPlaces/topPlaces.js")"></script>


}


<div id="topPlaces">
    <div class="content container hidden">
        <div class="heading">
            <h2>Top cities for XXXXX in the @ViewBag.CurrentInfo.CurrentIndustry.Name industry</h2>
            <div class="filter container">
                <div class="filterMenu">
                    <select id="optionMenu">
                        <option value="totalRevenue">Total Annual Revenue</option>
                        <option value="totalEmployees">Total Employees</option>
                        <option value="averageRevenue">Average Annual Revenue</option>
                        <option value="costEffectiveness">Worker Productivity</option>
                        <option value="averageEmployees">Average Employees</option>
                        <option value="employeesPerCapita">Employees Per Capita</option>
                        <option value="revenuePerCapita">Highest Revenue Per Capita</option>
                        <option value="underservedMarkets">Most Underserved Markets</option>
                    </select>
                    <a href="javascript:void(0);" id="filterSettingsButton">Settings</a>
                </div>
            </div>
        </div>



        <div id="filterSettings" class="hidden">
            <h2>Best Places to Advertise</h2>
            <p>
                Find the best places to target your next advertising campaign.
                 Adjust business and demographic parameters to find the best advertising locations.
            </p>
            <div class="section">
                 <ul class="options">
                    <li id="distance">
                        <span class="label">Search distance:</span>
                        <span class="valueLabel">
                            <span class="value">at most <span class="val">{{value}}</span> miles</span>
                            <span class="off"><span class="val">Nationwide</span></span>
                        </span>
                        <div class="sliderWrap">
                            <span class="sliderLabel less">less</span>
                            <div class="slider"></div>
                            <span class="sliderLabel more">more</span>
                        </div>
                    </li>
                </ul>
            </div>
            <a href="javascript:void(0);" class="button small submit">Search</a>
            <a href="javascript:void(0);"  class="inverse cancel">Cancel</a>
        </div>



        <div class="mapContent container">
            <div class="map"></div>
            <div class="footer">
                <ul class="bandContainer">
                    <li data-template="bandItem"><img data-override-src="/content/images/heatPin{{color}}.png" /><span>{{label}}</span></li>
                </ul>
            </div>
        </div>

   
        <div class="list container">
            <table>
                <thead>
                    <tr>
                    <td class="rank">Rank</td>
                    <td class="name">Name</td>
                    <td class="value">XXXXX</td>
                    </tr>
                </thead>
                <tbody class="results">
                    <tr data-template="cityItem">
                        <td class="rank">{{rank}}</td>
                        <td class="name"><a data-override-href="/community/{{state.SEOKey}}/{{county.SEOKey}}/{{city.SEOKey}}" class="name">{{name}}</a></td>
                        <td class="value">{{value}}</td>
                    </tr>
                    <tr data-template="countyItem">
                        <td class="rank">{{rank}}</td>
                        <td class="name"><a data-override-href="/community/{{state.SEOKey}}/{{county.SEOKey}}/{{city.SEOKey}}" class="name">{{name}}</a></td>
                        <td class="value">{{value}}</td>
                    </tr>
                    <tr data-template="metroItem">
                        <td class="rank">{{rank}}</td>
                        <td class="name"><a data-override-href="/community/{{state.SEOKey}}/{{county.SEOKey}}/{{city.SEOKey}}" class="name">{{name}}</a></td>
                        <td class="value">{{value}}</td>
                    </tr>
                    <tr data-template="stateItem">
                        <td class="rank">{{rank}}</td>
                        <td class="name"><a data-override-href="/community/{{state.SEOKey}}/{{county.SEOKey}}/{{city.SEOKey}}" class="name">{{name}}</a></td>
                        <td class="value">{{value}}</td>
                    </tr>
                </tbody>
            </table>
            


            <div class="noResults hidden">
                <p>No Results Returned.</p>
            </div>
            <div class="loading list hidden">
                <p class="title"></p>
                <img src="@Url.Content("~/content/images/Loading.gif")" alt="Loading" />
                <p class="message">Loading Next Set of Communities</p>
            </div>
   
        </div>

   


    
        <div class="loading page">
            <p class="title"></p>
            <img src="@Url.Content("~/content/images/Loading.gif")" alt="Loading" />
            <p class="message">Locating Communities</p>
        </div>

    </div>
</div>





@section scripts{

    <script type="text/javascript">
        var opts = {
            CurrentInfo: @Html.Raw(ViewBag.CurrentInfoJSON)
        };
        var driver = new sizeup.views.topPlaces.topPlaces(opts);
    </script>


}


